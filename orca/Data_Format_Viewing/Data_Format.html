<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Generator" content="iWeb 3.0.4" />
    <meta name="iWeb-Build" content="local-build-20150216" />
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <meta name="viewport" content="width=700" />
    <title>Data Format</title>
    <link rel="stylesheet" type="text/css" media="screen,print" href="Data_Format_files/Data_Format.css" />
    <!--[if lt IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Data_Format_files/Data_FormatIE.css'/><![endif]-->
    <!--[if gte IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Media/IE8.css'/><![endif]-->
    <script type="text/javascript" src="Scripts/iWebSite.js"></script>
    <script type="text/javascript" src="Scripts/Widgets/SharedResources/WidgetCommon.js"></script>
    <script type="text/javascript" src="Scripts/Widgets/Navbar/navbar.js"></script>
    <script type="text/javascript" src="Scripts/iWebImage.js"></script>
    <script type="text/javascript" src="Data_Format_files/Data_Format.js"></script>
  </head>
  <body style="background: rgb(255, 255, 255); margin: 0pt; " onload="onPageLoad();" onunload="onPageUnload();">
    <div style="text-align: center; ">
      <div style="margin-bottom: 0px; margin-left: auto; margin-right: auto; margin-top: 0px; overflow: hidden; position: relative; word-wrap: break-word;  background: transparent; text-align: left; width: 700px; " id="body_content">
        <div style="margin-left: 0px; position: relative; width: 700px; z-index: 0; " id="nav_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div class="com-apple-iweb-widget-navbar flowDefining" id="widget0" style="margin-left: 35px; margin-top: 0px; opacity: 1.00; position: relative; width: 630px; z-index: 1; ">
    
            <div id="widget0-navbar" class="navbar">

      
              <div id="widget0-bg" class="navbar-bg">

        
                <ul id="widget0-navbar-list" class="navbar-list">
 <li></li> 
</ul>
                
      
</div>
              
    
</div>
          </div>
          <script type="text/javascript"><!--//--><![CDATA[//><!--
new NavBar('widget0', 'Scripts/Widgets/Navbar', 'Scripts/Widgets/SharedResources', '.', {"path-to-root": "", "navbar-css": ".navbar {\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1em;\n\tcolor: #666;\n\tmargin: 9px 0px 6px 0px;\n\tline-height: 30px;\n}\n\n.navbar-bg {\n\ttext-align: center;\n}\n\n.navbar-bg ul {\n\tlist-style: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\n\n\nli {\n\tlist-style-type: none;\n\tdisplay: inline;\n\tpadding: 0px 10px 0px 10px;\n}\n\n\nli a {\n\ttext-decoration: none;\n\tcolor: #666;\n}\n\nli a:visited {\n\ttext-decoration: none;\n\tcolor: #666;\n}\n\nli a:hover\r{\r\n \tcolor: #463C3C;\n\ttext-decoration: none;\r}\n\n\nli.current-page a\r{\r\t color: #463C3C;\n\ttext-decoration: none;\n\tfont-weight: bold;\r\r}", "current-page-GUID": "7DAC99AC-0C71-462A-95DC-952A3D9441D9", "isCollectionPage": "NO"});
//--><!]]></script>
          <div style="clear: both; height: 0px; line-height: 0px; " class="spacer"> </div>
        </div>
        <div style="float: left; height: 0px; line-height: 0px; margin-left: 0px; position: relative; width: 700px; z-index: 10; " id="header_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div style="height: 1px; width: 630px;  height: 1px; left: 35px; position: absolute; top: 3px; width: 630px; z-index: 1; " class="tinyText">
            <div style="position: relative; width: 630px; ">
              <img src="Data_Format_files/shapeimage_1.jpg" alt="" style="height: 1px; left: 0px; position: absolute; top: 0px; width: 630px; " />
            </div>
          </div>
        </div>
        <div style="margin-left: 0px; position: relative; width: 700px; z-index: 5; " id="body_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div id="id1" style="height: 7203px; left: 8px; position: absolute; top: 80px; width: 683px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_683_7203" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="paragraph_style"><span style="line-height: 42px; " class="style">Data File Format</span><span class="style_1"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <div class="paragraph paragraph_style_1"><div style="height: 115px; width: 110px;  clear: left; float: left; height: 115px; margin: 6px 6px 6px 0px; position: relative; width: 110px; " class="tinyText style_SkipStroke inline-block stroke_0"><img src="Data_Format_files/Vista-FileCabinet.jpg" alt="" style="border: none; height: 115px; width: 111px; " /></div><span style="line-height: 23px; " class="style_2"></span><span style="line-height: 23px; " class="style_2">ORCA data files consist of two main parts:<br /></span></div>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <ol>
                  <li style="line-height: 16px; padding-left: 0px; text-indent: 0px; " class="full-width">
                    <p style="text-indent: 0px; " class="paragraph_style_2"><span style="font-size: 18px; position: relative; top: -1px; " class="Bullet">•</span><span style="line-height: 23px; " class="style_2"> a header <br /></span></p>
                  </li>
                  <li style="line-height: 16px; padding-left: 0px; text-indent: 0px; " class="full-width">
                    <p style="text-indent: 0px; " class="paragraph_style_2"><span style="font-size: 18px; position: relative; top: -1px; " class="Bullet">•</span><span style="line-height: 23px; " class="style_2"> the raw data <br /></span></p>
                  </li>
                </ol>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Starting with data version 2, the header was changed to XML and the data format was changed. See Old Format section for documentation of version 1 header and data formats.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Header</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The header is written in xml and contains a description of the configuration of the system as it was at the time the data file was written. It also contains the information needed to decode the data records. A partial example of a particular header is shown below. The easiest way to dig into an ORCA header and learn what's included is to create one and open it in an editor. The header is most easily parsed using the Cocoa objects that created it, but it is relatively easy to write one of your own design.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Starting with ORCA v6.0, the header is preceded by two long words:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_3">0000 0000 0000 00xx xxxx xxxx xxxx xxxx   1st word of the header<br /></p>
                <p class="paragraph_style_3">^^^^ ^^^^ ^^^^ ^^-----------------------  always set to all zeros.<br /></p>
                <p class="paragraph_style_3">                 ^^ ^^^^ ^^^^ ^^^^ ^^^^-  total length n of record (in longs)<br /></p>
                <p class="paragraph_style_3">xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx   2nd word of the record, length of header (bytes)<br /></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The header proper follows immediately:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;plist version=&quot;1.0&quot;&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Document Info&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;OrcaVersion&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;string&gt;6.5.3h&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;dataVersion&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;integer&gt;3&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;date&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;string&gt;2007-12-18 11:03:38 -0800&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;documentName&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;string&gt;/Users/markhowe/Desktop/Untitled.Orca&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;ObjectInfo&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Crates&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;array&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Cards&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;array&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Card&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;integer&gt;14&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Class Name&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;string&gt;ORJADCLModel&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Card&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;integer&gt;24&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;Class Name&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;string&gt;ORC111CModel&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/array&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;ClassName&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;string&gt;ORCamacCrateModel&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;CrateNumber&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;integer&gt;0&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;key&gt;FirstSlot&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;integer&gt;1&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">...<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">data for other hardware omitted<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">...<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">    &lt;key&gt;dataDescription&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">    &lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">        &lt;key&gt;ORRunModel&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">        &lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;key&gt;Run&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;dataId&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;integer&gt;20185088&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;decoder&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;string&gt;ORRunDecoderForRun&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;length&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;integer&gt;4&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;variable&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;false/&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">        &lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">        &lt;key&gt;ORShaperModel&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">        &lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;key&gt;Scaler&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;dataId&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;integer&gt;18612224&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;decoder&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;string&gt;ORShaperDecoderForScalers&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;length&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;integer&gt;-1&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;variable&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;true/&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;key&gt;Shaper&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;dataId&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;integer&gt;-2147483648&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;decoder&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;string&gt;ORShaperDecoderForShaper&lt;/string&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;length&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;integer&gt;1&lt;/integer&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;key&gt;variable&lt;/key&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">                 &lt;false/&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">             &lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">        &lt;/dict&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">...</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">other data description entries omitted<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">...<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">&lt;/plist&gt;<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">--note that the header is padded out to the nearest long word boundary with zeros. <br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_4">Custom Data in Header<br /></p>
                <p class="paragraph_style_4"><br /></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">It is possible for a certain types of scripts to place custom data into the header. This can only be done if the script is executed automatically at certain points of the run start sequence. </span><a title="../Data_Chain/Run_Control.html" href="../Data_Chain/Run_Control.html" style="line-height: 23px; " class="style_2">See RunControl</a><span style="line-height: 23px; " class="style_2">.<br /></span></p>
                <p class="paragraph_style_4"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Here is an example script:<br /></span></p>
                <p class="paragraph_style_1"><br /></p>
                <p class="paragraph_style_5"><span class="style_5">function</span> main() {<br /></p>
                <p class="paragraph_style_5">    doc = <span class="style_5">find</span>(ORDocument);<br /></p>
                <p class="paragraph_style_5">    [doc addCustomRunParameters:<span class="style_6">&quot;NormalThresholdFile.txt&quot;</span> forKey:<span class="style_5">@</span><span class="style_6">&quot;thresholdFile&quot;</span>];<br /></p>
                <p class="paragraph_style_5"><br /></p>
                <p class="paragraph_style_5">    anArray = <span class="style_5">@</span>[<span class="style_6">&quot;param1&quot;</span>,<span class="style_6">&quot;param2&quot;</span>]; <span class="style_7">//array</span><br /></p>
                <p class="paragraph_style_5">    [doc addCustomRunParameters: anArray forKey:<span class="style_6">&quot;arrayTest&quot;</span>];<br /></p>
                <p class="paragraph_style_5"><br /></p>
                <p class="paragraph_style_5">    aDictionary = <span class="style_5">@</span>{<span class="style_6">&quot;param1&quot;</span>:11,<span class="style_6">&quot;param2&quot;</span>:1.222}; <span class="style_7">//dictionary</span><br /></p>
                <p class="paragraph_style_5">    [doc addCustomRunParameters: aDictionary forKey:<span class="style_6">&quot;dictionaryTest&quot;</span>];<br /></p>
                <p class="paragraph_style_5">}<br /></p>
                <p class="paragraph_style_5"><br /></p>
                <p class="paragraph_style_5"><span style="line-height: 23px; " class="style_8">The resulting field will be in the “ObjectInfo” section under “Custom”:</span><br /></p>
                <p class="paragraph_style_6"><br /></p>
                <p class="paragraph_style_7">&lt;key&gt;Custom&lt;/key&gt;<br /></p>
                <p class="paragraph_style_7"> &lt;dict&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;key&gt;arrayTest&lt;/key&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;array&gt;<br /></p>
                <p class="paragraph_style_7">   &lt;string&gt;param1&lt;/string&gt;<br /></p>
                <p class="paragraph_style_7">   &lt;string&gt;param2&lt;/string&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;/array&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;key&gt;dictionaryTest&lt;/key&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;dict&gt;<br /></p>
                <p class="paragraph_style_7">   &lt;key&gt;param1&lt;/key&gt;<br /></p>
                <p class="paragraph_style_7">   &lt;real&gt;11&lt;/real&gt;<br /></p>
                <p class="paragraph_style_7">   &lt;key&gt;param2&lt;/key&gt;<br /></p>
                <p class="paragraph_style_7">   &lt;real&gt;1.222&lt;/real&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;/dict&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;key&gt;thresholdFile&lt;/key&gt;<br /></p>
                <p class="paragraph_style_7">  &lt;string&gt;NormalThresholdFile.txt&lt;/string&gt;<br /></p>
                <p class="paragraph_style_7"> &lt;/dict&gt;<br /></p>
                <p class="paragraph_style_5"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_4">Raw Data Format<br /></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The raw data immediately follows the xml header.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">With the release of data format version 2 the old format was depreciated. ORCA remains able to decode the old format, but always generates data in the new format. The new format is more self describing and is not limited to 32 different types of data records.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Short form data format (always 32 bits)<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_3">xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx<br /></p>
                <p class="paragraph_style_3">^--------------------------------------- always set<br /></p>
                <p class="paragraph_style_3">^^^^ ^^--------------------------------- dataId from the data description<br /></p>
                <p class="paragraph_style_3">       ^^ ^^^^ ^^^^ ^^^^ ^^^^ ^^^^ ^^^^- raw data<br /></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Long form data format (variable length)<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_3">xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx  1st word of the record<br /></p>
                <p class="paragraph_style_3">^--------------------------------------- always clear.<br /></p>
                <p class="paragraph_style_3">^^^^ ^^^^ ^^^^ ^^----------------------- dataId from the data description<br /></p>
                <p class="paragraph_style_3">                 ^^ ^^^^ ^^^^ ^^^^ ^^^^- total length n of record (in longs)<br /></p>
                <p class="paragraph_style_3">xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx  2nd word of the record, 1st word of data<br /></p>
                <p class="paragraph_style_3">..<br /></p>
                <p class="paragraph_style_3">..<br /></p>
                <p class="paragraph_style_3">xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx  nth word of the record<br /></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">If the most significant bit in the first word of a data record is set, then the class ID uses the top 6 bits and the length of the record is always one long word (4 bytes) in length. If the most significant bit is not set, then the class ID uses the top 14 bits and the length of the record in bytes (including this header word) is encoded in the bottom 18 bits. Note that the length is always the number of longs (not bytes) in the record. The raw data immediately follows the header word.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Note that the object ID's are dynamically assigned and may vary from configuration to configuration. Objects that can produce data that will fit into one long word will request to be allowed to use just one word, however if there are more than 32 short records assigned then objects will be assigned the long form. External analysis application have to assume that an object that normally puts out the short form could put out the long form and must be prepared to deal with either.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Some of the objects that can ship data:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><a title="../Data_Chain/Run_Control.html" href="../Data_Chain/Run_Control.html" style="line-height: 23px; " class="style_2">ORRunModel</a><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><a title="../VME/Shaper.html" href="../VME/Shaper.html" style="line-height: 23px; " class="style_2">ORShaperModel</a><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><a title="../VME/Trigger(32_Bit).html" href="../VME/Trigger%2832_Bit%29.html" style="line-height: 23px; " class="style_2">ORTrigger32Model</a><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><a title="../GPIB/Aglient_33220a.html" href="../GPIB/Aglient_33220a.html" style="line-height: 23px; " class="style_2">ORHPPulserModel</a><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><a title="../GPIB/TK754.html" href="../GPIB/TK754.html" style="line-height: 23px; " class="style_2">OR754ScopeModel</a><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">That is by no means a complete list. To find the data record format for a particular object look at that object’s help page. If there is no help page, the record formats are documented in the object’s decoder source code.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 28px; " class="style_9">Old Format (versions &lt; 2)</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_10">Note that the old data format is depreciated and is no longer written out by ORCA -</span><span style="line-height: 23px; " class="style_2"> </span><span style="line-height: 23px; " class="style_10">ever</span><span style="line-height: 23px; " class="style_2">! The following information is included for historical reasons. As of ORCA version 3.x, ORCA can still read and decode the old data format, but at some point in the future this capability will probably be removed.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Header</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The header is completely ascii and is thus human readable. It consists three parts:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">data type word <br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">data description section <br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">record description section (for data version 1 only!) <br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">parameter section <br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Each of these parts will be discussed below.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Data Type Word</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The orginal ORCA data form had this is set to be &quot;DataStructure_LittleEndian&quot; to give an idication of the how to decode the raw data section. Starting with data version 1 this is set to be &quot;DataStructure version x&quot;, where x is the data version number.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Data Description Section</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">This section is started with &quot;BeginDataDescriptionSection&quot; and ended with &quot;EndDataDescriptionSection&quot;. The content is a list of objects that have put data into the file and the size of the data records that those objects produce. A typical entry is:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_3">ORShaperModel Shaper 0x18000000 0 4<br /></p>
                <p class="paragraph_style_3">^^^^^^^^^^^^^------------------------ data class object name<br /></p>
                <p class="paragraph_style_3">--------------^^^^^^----------------- data class descrition<br /></p>
                <p class="paragraph_style_3">---------------------^^^^^^^^^^------ data ID number<br /></p>
                <p class="paragraph_style_3">--------------------------------^---- variable length (1 == variable, 0 == fixed)<br /></p>
                <p class="paragraph_style_3">----------------------------------^-- record size in bytes (-1 if variable)<br /></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Data Class Object Name </span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The first field is the name of data producing class: 'ORShaperModel'. This is used internally by ORCA in forming the name of a data decoding object. Other applications can use this name combined with the class description and data ID to decide how to decode the record.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Data Class Description </span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The next field, 'Shaper', is a sub-label for the data record. Some objects put out several differant types of data records. Each will have a different data id. One thing to be aware of is that there is no ascii space between the data class object name and the data class description. But the data class object name is a C string, so it is followed by a '\0'.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Data Id Number format for versions 0 thru 1 </span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The data id number is the number that is located in the 5 most signification bits of the first word a data record.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Note that the object ID's are dynamically assigned and may vary from configuration to configuration.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Note that this format of using five bits for the object ID puts a hard limit on the number of data producing objects that can be used in a particular experiment. This may be addressed as needed in future versions.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Variable Length and Data Size fields. </span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The next field can be '0' or '1'. A '0' means that the last field is the size of the raw data record that this object put out in bytes. If the object puts out a variable sized record the last two fields would be '1' followed by '-1'. If the data record is variable the size will be included in the data record itself.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Note that the current format of using five bits for the object ID puts a hard limit on the number of data producing objects that can be used in a particular experiment. This may be addressed as needed in future versions.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Record Description Section</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">This section was added starting with data version 1 but was depreciated and removed starting with version 2. In version 2, data records are treated the same as the data records that described in the Data Description Section. Data records are meant to be small information records that are put in the data stream on an ocasional basis.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">This section is started with &quot;BeginRecordDescriptionSection&quot; and ended with &quot;EndRecordDescriptionSection&quot;. The content is a list of objects that can put records into the file and the size of the records that those objects produce. A typical entry is:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span class="style_11">ORShaperModel Scalers 0x00020000 1 -1<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The first field is the name of data producing class: 'ORShaperModel'. The next field, 'Scalers', is a label for the record. The next field is the record ID, of which only the top 16 bits are used. The next field can be '0' or '1'. A '0' means that the last field is the size of the raw data record that this object puts out in bytes. If the object puts out a variable sized record the last two fields would be '1' followed by '-1'. If the data record is variable the size will be included in the data record itself.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Note that the record ID's are dynamically assigned and may vary from configuration to configuration.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">One thing to be aware of is that there is no ASCII space between the class name and the record label. But the class name is a C string, so it is followed by a '\0'.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Parameter Section</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">This section is started with &quot;BeginParameterSection&quot; and ended with &quot;EndParameterSection&quot;. The content is a list of parameter data. A typical entry is:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 16px; " class="style_4">0x18000000 ORShaperModel Threshold 0 0 8 short 78</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The first field is the object ID. This is the same ID that is in the data description section, with one exception. If the ID is 0xffffffff, the parameter is from an object that is not in the data description section. The second field is the object class name. The third field is the name of the parameter, followed by three hardware identification numbers. In this example, they encode the crate, card, and channel. The last two fields hold the parameter data type and the parameter value.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 21px; " class="style_3">Raw Data</span><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The data section begins with the C string &quot;BeginData&quot;. The raw data format is set by each object that puts data into the data stream. In general, the data records are as compact as possible. See the individual objects to get the data formats (i.e. ORShaperModel)<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">The data section may also contain generic records that are differant from the regular raw data in that any object can place a record in the data stream. Records are meant to be small and only ocasionally inserted into the data. For an example, see the ORShaperModel's Scaler Record format. No matter what a generic record contains, it is wrapped with a generic record header.<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">Some of the objects that can ship data:<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">ORRunModel<br /></span></p>
                <p class="paragraph_style_1"><a title="../VME/Shaper.html" href="../VME/Shaper.html" style="line-height: 23px; " class="style_2">ORShaperModel</a><span style="line-height: 23px; " class="style_2"><br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">ORTrigger32Model<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">NcdMuxModel<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">NcdModel<br /></span></p>
                <p class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">ORHPPulserModel<br /></span></p>
                <p style="padding-bottom: 0pt; " class="paragraph_style_1"><span style="line-height: 23px; " class="style_2">OR754ScopeModel</span></p>
              </div>
              <div style="clear: both; height: 0px; line-height: 0px; " class="tinyText"> </div>
            </div>
          </div>
          


          <div id="id2" style="height: 100px; left: 300px; position: absolute; top: 1193px; width: 100px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_100_100" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default"></div>
            </div>
          </div>
          <div style="height: 7283px; line-height: 7283px; " class="spacer"> </div>
        </div>
        <div style="height: 150px; margin-left: 0px; position: relative; width: 700px; z-index: 15; " id="footer_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
        </div>
      </div>
    </div>
  </body>
</html>


