<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OrcaROOT: /Users/markhowe/Dev/OrcaRoot/Decoders/ORGretaDecoder.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/Users/markhowe/Dev/OrcaRoot/Decoders/ORGretaDecoder.hh</h1><a href="_o_r_greta_decoder_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// ORGretaDecoder.hh</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#ifndef _ORGretaDecoder_hh_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#define _ORGretaDecoder_hh_</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span>
<a name="l00006"></a>00006 <span class="preprocessor">#include "<a class="code" href="_o_r_v_digitizer_decoder_8hh.html">ORVDigitizerDecoder.hh</a>"</span>
<a name="l00007"></a>00007 
<a name="l00008"></a><a class="code" href="class_o_r_greta_decoder.html">00008</a> <span class="keyword">class </span><a class="code" href="class_o_r_greta_decoder.html">ORGretaDecoder</a>: <span class="keyword">public</span> <a class="code" href="class_o_r_v_digitizer_decoder.html" title="Defines an interface for Digitizer decoders.">ORVDigitizerDecoder</a>
<a name="l00009"></a>00009 {
<a name="l00010"></a>00010   <span class="keyword">public</span>:
<a name="l00011"></a>00011     <a class="code" href="class_o_r_greta_decoder.html#c35a8f888319d6d0dfeb64178009e66d">ORGretaDecoder</a>();
<a name="l00012"></a><a class="code" href="class_o_r_greta_decoder.html#0828e27d3e7e844a3ff862de99277b01">00012</a>     <span class="keyword">virtual</span> <a class="code" href="class_o_r_greta_decoder.html#0828e27d3e7e844a3ff862de99277b01">~ORGretaDecoder</a>() {}
<a name="l00013"></a><a class="code" href="class_o_r_greta_decoder.html#a704b3f48d33121c5e87b93b153e8f98c2695583496b3e75cfd9e9b5812664c6">00013</a>     <span class="keyword">enum</span> <a class="code" href="class_o_r_greta_decoder.html#a704b3f48d33121c5e87b93b153e8f98">EGretaConsts</a> { <a class="code" href="class_o_r_greta_decoder.html#a704b3f48d33121c5e87b93b153e8f98c2695583496b3e75cfd9e9b5812664c6">kBufHeadLen</a> = 6 };
<a name="l00014"></a><a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad1570c2a6824954ae82285970e13bd9a766">00014</a>     <span class="keyword">enum</span> <a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad15">EGretaPolarity</a> { <a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad1570c2a6824954ae82285970e13bd9a766">kNone</a> = 0,
<a name="l00015"></a><a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad153046da19ebf69027ad9128e8f39ba36d">00015</a>                           <a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad153046da19ebf69027ad9128e8f39ba36d">kPos</a>,
<a name="l00016"></a><a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad1555e438f798275235cadd85b5c979ea7a">00016</a>                           <a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad1555e438f798275235cadd85b5c979ea7a">kNeg</a>,
<a name="l00017"></a><a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad1596f5684a1c96ee246290a42a73166dcd">00017</a>                           <a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad1596f5684a1c96ee246290a42a73166dcd">kBoth</a> };
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caeaa843c5b4a911b406cfa8738f7f234825">00019</a>     <span class="keyword">enum</span> <a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caea">EGretaTriggerMode</a> { <a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caeaa843c5b4a911b406cfa8738f7f234825">kInternal</a> = 0,
<a name="l00020"></a><a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caea80114fc10dd7c491230c012bb9163705">00020</a>                              <a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caea80114fc10dd7c491230c012bb9163705">kExternal</a>,
<a name="l00021"></a><a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caeadefdb10a21c931294ce8370a5380e85b">00021</a>                              <a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caeadefdb10a21c931294ce8370a5380e85b">kValidation</a> };
<a name="l00022"></a>00022     
<a name="l00023"></a><a class="code" href="class_o_r_greta_decoder.html#59332f3cbda66889babe18f7ced4cd75">00023</a>     <span class="keyword">virtual</span> std::string <a class="code" href="class_o_r_greta_decoder.html#59332f3cbda66889babe18f7ced4cd75" title="Every decoder must overload this to return a path in the xml header.">GetDataObjectPath</a>() { <span class="keywordflow">return</span> <span class="stringliteral">"ORGretinaModel:Gretina"</span>; }  
<a name="l00024"></a><a class="code" href="class_o_r_greta_decoder.html#ec516bc51e7bfc8a22325ca8e86991bf">00024</a>     <span class="keyword">virtual</span> std::string <a class="code" href="class_o_r_greta_decoder.html#ec516bc51e7bfc8a22325ca8e86991bf" title="This function allows us to grab a hardware dictionary from the header.">GetDictionaryObjectPath</a>() { <span class="keywordflow">return</span> <span class="stringliteral">"ORGretinaModel"</span>; }  
<a name="l00025"></a>00025     <span class="comment">//virtual void Swap(UInt_t* dataRecord);</span>
<a name="l00026"></a>00026     <span class="comment">/* Overloading swap, this is a 16-bit style record. */</span>
<a name="l00027"></a>00027     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_r_greta_decoder.html#51acaef4788df98660f4b734807ef331">SetDataRecord</a>(UInt_t* record);
<a name="l00028"></a>00028     <span class="keyword">virtual</span> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#ea29250928965f7fb6ff1d38d4673976">BitConcat</a>(UShort_t lo, UShort_t mid, UShort_t hi = 0x0);
<a name="l00029"></a>00029        
<a name="l00030"></a>00030     <span class="comment">//Functions that return data from buffer header:</span>
<a name="l00031"></a><a class="code" href="class_o_r_greta_decoder.html#b04f87d4a84127a3bd92af44f0b7eb93">00031</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#b04f87d4a84127a3bd92af44f0b7eb93">GetBufHeadLen</a>() {<span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>) <a class="code" href="class_o_r_greta_decoder.html#a704b3f48d33121c5e87b93b153e8f98c2695583496b3e75cfd9e9b5812664c6">kBufHeadLen</a>;}
<a name="l00032"></a>00032     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#1ce001214ff9559c99170913abb515d4">GetBoardId</a>();
<a name="l00033"></a>00033     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#a1ca21b9d6d6d9f286eff9cb5ca452fa">GetChannelNum</a>();
<a name="l00034"></a>00034     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#e5d82f809b24f810cce91069009e2492">GetPacketLength</a>();
<a name="l00035"></a>00035     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#7cc8baceae7c4e2fe99103dccab6315d">GetLEDExtTimeStampLo</a>();
<a name="l00036"></a>00036     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#af2a8a394b606e5775b7b1ed93b981df">GetLEDExtTimeStampMed</a>();
<a name="l00037"></a>00037     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#21f2d077b302f6c55111b6d26a35034d">GetLEDExtTimeStampHi</a>();
<a name="l00038"></a>00038     <span class="keyword">virtual</span> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#2345d794e319af48d70bf299b4d7006d">GetLEDExtTimeStamp</a>();
<a name="l00039"></a>00039     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#55be40ec641332dc1e10f76846555b10">GetEnergyLo</a>();
<a name="l00040"></a>00040     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#832a8b30d490eae85ada3cdda756721a">GetEnergyHi</a>();
<a name="l00041"></a>00041     <span class="keyword">virtual</span> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#cfadd958b8ce5fc32dd26cfbafaf6210">GetEnergy</a>();
<a name="l00042"></a>00042     <span class="keyword">virtual</span> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#356ce1d6c1dee121e72866ef3b49bea0">IsLEDCrossingNeg</a>();
<a name="l00043"></a>00043     <span class="keyword">virtual</span> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#5b48de5c5e3dd75bb5193b9592de086d">IsExternalTrigFlag</a>();
<a name="l00044"></a>00044     <span class="keyword">virtual</span> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#9ba8d8de4a85f691b931661051162ab9">IsCFDCrossingFlag</a>();
<a name="l00045"></a>00045     <span class="keyword">virtual</span> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#37b35587aa17d4e56ca86ebb034f586d">IsPileupFlag</a>();
<a name="l00046"></a>00046     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#0711e1dbe896c0d6dc56a1cc74783c77">GetCFDTimeStampLo</a>();
<a name="l00047"></a>00047     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#d6fdd56e3dd541ad81e727b522fb3368">GetCFDTimeStampMed</a>();
<a name="l00048"></a>00048     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#bba6c802f7277bc06869245c3aa84775">GetCFDTimeStampHi</a>();
<a name="l00049"></a>00049     <span class="keyword">virtual</span> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#203750f2cba48e90b8f68c3491c04e30">GetCFDTimeStamp</a>();
<a name="l00050"></a>00050     <span class="keyword">virtual</span> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#4c99475bb033b6fba56e99291cfa6a09">GetCFDPointOne</a>();
<a name="l00051"></a>00051     <span class="keyword">virtual</span> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#1ce7639dc422fd613890e7cc76757991">GetCFDPointTwo</a>();
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     <span class="comment">// Waveform Functions</span>
<a name="l00054"></a>00054     <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#1ed87e842ecf854662a10a9ef3e355ca">GetWaveformLen</a>(); 
<a name="l00055"></a>00055     <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#856a6acc7c0412feda7d478a4265daca">CopyWaveformData</a>(UShort_t* waveform, <span class="keywordtype">size_t</span> len);
<a name="l00056"></a>00056     <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#059edb2a0bd078d240461a00acc1329d">CopyWaveformDataDouble</a>(<span class="keywordtype">double</span>* waveform, <span class="keywordtype">size_t</span> len);
<a name="l00057"></a>00057     <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#5b4592c010a17327ff97ebdefaf28419">CopyWaveformDataShort</a>(<span class="keywordtype">short</span>* waveform, <span class="keywordtype">size_t</span> len);
<a name="l00058"></a>00058     <span class="keyword">virtual</span> <span class="keyword">inline</span> UInt_t* <a class="code" href="class_o_r_greta_decoder.html#0df7f778350ac1870213d9941f9e0322">GetWaveformDataPointer</a>();
<a name="l00059"></a>00059  
<a name="l00060"></a>00060     <span class="comment">/* Functions that return information about card/channel settings. */</span>
<a name="l00061"></a>00061     <span class="comment">/* These are static throughout a run, so a processor should take  * </span>
<a name="l00062"></a>00062 <span class="comment">     * advantage of this and maybe not query during each record.      */</span>
<a name="l00063"></a>00063     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#0897c19c0980bc11cf766e1f5abfb455">GetBaseAddress</a>();
<a name="l00064"></a>00064     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#d1ba2cb9ca2b23c1c446f33a4fb9e0ba">GetCFDDelay</a>();
<a name="l00065"></a>00065     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#08c819fbe402020fd3dc409fbab433b3">GetCFDFraction</a>();
<a name="l00066"></a>00066     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#7f09614a6335bc0ef2f34aed97d253fe">GetCFDThreshold</a>();
<a name="l00067"></a>00067     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#7ebf4aaee5529908fa7cbaf85538f2cb">GetCollectionTime</a>();
<a name="l00068"></a>00068     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#2676a829c8e4392d1d203277ad947371">GetDataDelay</a>();
<a name="l00069"></a>00069     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#84f7fd009fa0406c61c5d8649d7556f5">GetDataLength</a>();
<a name="l00070"></a>00070     <span class="keyword">virtual</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#70bdf9316ff632bf2efefa2e16a839fa">IsDebugModeOn</a>();
<a name="l00071"></a>00071     <span class="keyword">virtual</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#ec5721fc0b66985f40dfabb7e88e203e">IsEnabled</a>();
<a name="l00072"></a>00072     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#3a4e56b7122db80163a4e20b3cfbbd2c">GetExternalTriggerLength</a>();
<a name="l00073"></a>00073     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#67415732a4f6e12e0780383da4a81a1d">GetExternalWindow</a>();
<a name="l00074"></a>00074     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#01ef360f02592a45db7c5b1ff08d143b">GetIntegrationTime</a>();
<a name="l00075"></a>00075     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#616ce69ba0722353b5e7cd457d94de32">GetLEDThreshold</a>();
<a name="l00076"></a>00076     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#1aab1afb2722ee1ff8a400ff1e4339ad">GetNoiseWindow</a>();
<a name="l00077"></a>00077     <span class="keyword">virtual</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#505aa360aff64f5a3831b12f78c60fb1">IsPileUpEnabled</a>();
<a name="l00078"></a>00078     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#f72f2eadb9332c11f047ecb7dfd285e4">GetPileUpWindow</a>();
<a name="l00079"></a>00079     <span class="keyword">virtual</span> <a class="code" href="class_o_r_greta_decoder.html#f5ff4a1cf25257dccf776940c952ad15">EGretaPolarity</a> <a class="code" href="class_o_r_greta_decoder.html#de8bba98195586edc3d7a857bf407c90">GetPolarity</a>();
<a name="l00080"></a>00080     <span class="keyword">virtual</span> <a class="code" href="class_o_r_greta_decoder.html#b747a95890965a17788ed1b8f167caea">EGretaTriggerMode</a> <a class="code" href="class_o_r_greta_decoder.html#630294d1c2231c235cc640f912c379f5">GetTriggerMode</a>();
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     <span class="comment">/* Functions satisfying the ORVDigitizerDecoder interface. */</span>
<a name="l00083"></a><a class="code" href="class_o_r_greta_decoder.html#72872de380349869b76708d5a1c57ae8">00083</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="class_o_r_greta_decoder.html#72872de380349869b76708d5a1c57ae8" title="Should return in units of 1 GHz.">GetSamplingFrequency</a>() { <span class="keywordflow">return</span> .1; }
<a name="l00084"></a><a class="code" href="class_o_r_greta_decoder.html#e197fd8499f4e259249c9085253eaa48">00084</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#e197fd8499f4e259249c9085253eaa48">GetBitResolution</a>() { <span class="keywordflow">return</span> 12; }
<a name="l00085"></a><a class="code" href="class_o_r_greta_decoder.html#2829c140ff21c76e638a653b58504784">00085</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#2829c140ff21c76e638a653b58504784" title="It is possible to have more than one event in a record.">GetNumberOfEvents</a>() { <span class="keywordflow">return</span> 1; }
<a name="l00086"></a><a class="code" href="class_o_r_greta_decoder.html#503cd810fc675678ff5e96524a6a925f">00086</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#503cd810fc675678ff5e96524a6a925f">GetEventTime</a>(<span class="keywordtype">size_t</span> <span class="comment">/*event*/</span>) {<span class="keywordflow">return</span> <a class="code" href="class_o_r_greta_decoder.html#2345d794e319af48d70bf299b4d7006d">GetLEDExtTimeStamp</a>();}
<a name="l00087"></a><a class="code" href="class_o_r_greta_decoder.html#c4b6f233e40ea273221c8f098352fcd1">00087</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#c4b6f233e40ea273221c8f098352fcd1">GetEventEnergy</a>(<span class="keywordtype">size_t</span> <span class="comment">/*event*/</span>) {<span class="keywordflow">return</span> <a class="code" href="class_o_r_greta_decoder.html#cfadd958b8ce5fc32dd26cfbafaf6210">GetEnergy</a>();}
<a name="l00088"></a><a class="code" href="class_o_r_greta_decoder.html#59edf98301c9d741c6a24007b3c8a4c6">00088</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#59edf98301c9d741c6a24007b3c8a4c6">GetEventChannel</a>(<span class="keywordtype">size_t</span> <span class="comment">/*event*/</span>) {<span class="keywordflow">return</span> <a class="code" href="class_o_r_greta_decoder.html#a1ca21b9d6d6d9f286eff9cb5ca452fa">GetChannelNum</a>();}
<a name="l00089"></a><a class="code" href="class_o_r_greta_decoder.html#5b0804a48b90cff127349d6ba59d80d0">00089</a>     <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#5b0804a48b90cff127349d6ba59d80d0" title="This length should be in number of words.">GetEventWaveformLength</a>(<span class="keywordtype">size_t</span> <span class="comment">/*event*/</span>) 
<a name="l00090"></a>00090       { <span class="keywordflow">return</span> <a class="code" href="class_o_r_greta_decoder.html#1ed87e842ecf854662a10a9ef3e355ca">GetWaveformLen</a>(); }
<a name="l00091"></a>00091     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#c071b4dc6fb8667d279feb870461001c" title="Gets a point in the waveform.">GetEventWaveformPoint</a>( <span class="keywordtype">size_t</span> <span class="comment">/*event*/</span>, 
<a name="l00092"></a>00092                                           <span class="keywordtype">size_t</span> waveformPoint );
<a name="l00093"></a>00093     
<a name="l00094"></a>00094     <span class="keyword">virtual</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#eae40d536f6b43979c5f39bbba877b1e">GetEventFlags</a>(<span class="keywordtype">size_t</span> <span class="comment">/*event*/</span>);
<a name="l00095"></a>00095     
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <span class="comment">//Error checking:</span>
<a name="l00098"></a>00098     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_r_greta_decoder.html#d50d547cccaa7e4294f84c80d8a954be">IsValid</a>();
<a name="l00099"></a>00099     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_o_r_greta_decoder.html#c401e8b57e7d2cdfe7e9df1d8bacdc2b">DumpBufferHeader</a>();
<a name="l00100"></a>00100    
<a name="l00101"></a>00101     <span class="comment">//debugging:</span>
<a name="l00102"></a>00102     <span class="keywordtype">void</span> <a class="code" href="class_o_r_greta_decoder.html#598990c1fa3248c3cbb1b10129a913f1">Dump</a>(UInt_t* dataRecord);
<a name="l00103"></a>00103     
<a name="l00104"></a>00104   <span class="keyword">protected</span>:
<a name="l00105"></a>00105     <span class="comment">/* GetRecordOffset() returns how many words the record is offset from the </span>
<a name="l00106"></a>00106 <span class="comment">       beginning.  This is useful when additional headers are added. */</span>
<a name="l00107"></a><a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">00107</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>() {<span class="keywordflow">return</span> 2;}
<a name="l00108"></a>00108     <span class="comment">// This is a bit mask to grab the correct values from the waveform data.</span>
<a name="l00109"></a><a class="code" href="class_o_r_greta_decoder.html#ff0e47a83f63ee8121bbd7485f36f707">00109</a>     UInt_t <a class="code" href="class_o_r_greta_decoder.html#ff0e47a83f63ee8121bbd7485f36f707">fBitMask</a>;
<a name="l00110"></a>00110 };
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="comment">//inline functions: ************************************************************************</span>
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="class_o_r_greta_decoder.html#ea29250928965f7fb6ff1d38d4673976">00114</a> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#ea29250928965f7fb6ff1d38d4673976">ORGretaDecoder::BitConcat</a>(UShort_t lo, UShort_t mid, UShort_t hi)
<a name="l00115"></a>00115 <span class="comment">//Concatenates 16 bit high, middle, and low words to form a ULong64_t</span>
<a name="l00116"></a>00116 { 
<a name="l00117"></a>00117   <span class="keywordflow">return</span> ((ULong64_t)(lo) +  (((ULong64_t)(mid)) &lt;&lt; 16) + (((ULong64_t)(hi)) &lt;&lt; 32));  
<a name="l00118"></a>00118 }
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="class_o_r_greta_decoder.html#1ce001214ff9559c99170913abb515d4">00120</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#1ce001214ff9559c99170913abb515d4">ORGretaDecoder::GetBoardId</a>()
<a name="l00121"></a>00121 {
<a name="l00122"></a>00122   <span class="keywordflow">return</span> (UShort_t)(<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()] &amp; 0xffff) &gt;&gt; 3;
<a name="l00123"></a>00123 }
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="class_o_r_greta_decoder.html#a1ca21b9d6d6d9f286eff9cb5ca452fa">00125</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#a1ca21b9d6d6d9f286eff9cb5ca452fa">ORGretaDecoder::GetChannelNum</a>()
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()] &amp; 0x7);
<a name="l00128"></a>00128 }
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="class_o_r_greta_decoder.html#e5d82f809b24f810cce91069009e2492">00130</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#e5d82f809b24f810cce91069009e2492">ORGretaDecoder::GetPacketLength</a>()
<a name="l00131"></a>00131 {
<a name="l00132"></a>00132   <span class="keywordflow">return</span> (UShort_t) (( <a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()] &amp; 0x7FF0000 )  &gt;&gt; 16);
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="class_o_r_greta_decoder.html#7cc8baceae7c4e2fe99103dccab6315d">00135</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#7cc8baceae7c4e2fe99103dccab6315d">ORGretaDecoder::GetLEDExtTimeStampLo</a>()
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+1] &amp; 0xffff);
<a name="l00138"></a>00138 }
<a name="l00139"></a>00139 
<a name="l00140"></a><a class="code" href="class_o_r_greta_decoder.html#af2a8a394b606e5775b7b1ed93b981df">00140</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#af2a8a394b606e5775b7b1ed93b981df">ORGretaDecoder::GetLEDExtTimeStampMed</a>()
<a name="l00141"></a>00141 {
<a name="l00142"></a>00142   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+1]  &gt;&gt; 16);
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="class_o_r_greta_decoder.html#21f2d077b302f6c55111b6d26a35034d">00145</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#21f2d077b302f6c55111b6d26a35034d">ORGretaDecoder::GetLEDExtTimeStampHi</a>()
<a name="l00146"></a>00146 {
<a name="l00147"></a>00147   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+2] &amp; 0xffff);
<a name="l00148"></a>00148 }
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="class_o_r_greta_decoder.html#2345d794e319af48d70bf299b4d7006d">00150</a> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#2345d794e319af48d70bf299b4d7006d">ORGretaDecoder::GetLEDExtTimeStamp</a>()
<a name="l00151"></a>00151 {
<a name="l00152"></a>00152   <span class="keywordflow">return</span> <a class="code" href="class_o_r_greta_decoder.html#ea29250928965f7fb6ff1d38d4673976">BitConcat</a>(<a class="code" href="class_o_r_greta_decoder.html#7cc8baceae7c4e2fe99103dccab6315d">GetLEDExtTimeStampLo</a>(), <a class="code" href="class_o_r_greta_decoder.html#af2a8a394b606e5775b7b1ed93b981df">GetLEDExtTimeStampMed</a>(), <a class="code" href="class_o_r_greta_decoder.html#21f2d077b302f6c55111b6d26a35034d">GetLEDExtTimeStampHi</a>());
<a name="l00153"></a>00153 }
<a name="l00154"></a>00154 
<a name="l00155"></a><a class="code" href="class_o_r_greta_decoder.html#55be40ec641332dc1e10f76846555b10">00155</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#55be40ec641332dc1e10f76846555b10">ORGretaDecoder::GetEnergyLo</a>()
<a name="l00156"></a>00156 {
<a name="l00157"></a>00157   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+2] &gt;&gt; 16); 
<a name="l00158"></a>00158 }
<a name="l00159"></a>00159 
<a name="l00160"></a><a class="code" href="class_o_r_greta_decoder.html#832a8b30d490eae85ada3cdda756721a">00160</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#832a8b30d490eae85ada3cdda756721a">ORGretaDecoder::GetEnergyHi</a>()
<a name="l00161"></a>00161 {
<a name="l00162"></a>00162   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+3] &amp; 0x7f); 
<a name="l00163"></a>00163 }
<a name="l00164"></a>00164 
<a name="l00165"></a><a class="code" href="class_o_r_greta_decoder.html#cfadd958b8ce5fc32dd26cfbafaf6210">00165</a> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#cfadd958b8ce5fc32dd26cfbafaf6210">ORGretaDecoder::GetEnergy</a>()
<a name="l00166"></a>00166 {
<a name="l00167"></a>00167   <span class="keywordflow">return</span> (UInt_t) <a class="code" href="class_o_r_greta_decoder.html#ea29250928965f7fb6ff1d38d4673976">BitConcat</a>(<a class="code" href="class_o_r_greta_decoder.html#55be40ec641332dc1e10f76846555b10">GetEnergyLo</a>(), <a class="code" href="class_o_r_greta_decoder.html#832a8b30d490eae85ada3cdda756721a">GetEnergyHi</a>());
<a name="l00168"></a>00168 }
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="class_o_r_greta_decoder.html#356ce1d6c1dee121e72866ef3b49bea0">00170</a> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#356ce1d6c1dee121e72866ef3b49bea0">ORGretaDecoder::IsLEDCrossingNeg</a>()
<a name="l00171"></a>00171 {
<a name="l00172"></a>00172   <span class="keywordflow">return</span> ((<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+3]  &gt;&gt; 12) &amp; 0x1) == 1;
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="class_o_r_greta_decoder.html#5b48de5c5e3dd75bb5193b9592de086d">00175</a> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#5b48de5c5e3dd75bb5193b9592de086d">ORGretaDecoder::IsExternalTrigFlag</a>()
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177   <span class="keywordflow">return</span> ((<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+3]  &gt;&gt; 13) &amp; 0x1) == 1;
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="class_o_r_greta_decoder.html#9ba8d8de4a85f691b931661051162ab9">00180</a> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#9ba8d8de4a85f691b931661051162ab9">ORGretaDecoder::IsCFDCrossingFlag</a>()
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182   <span class="keywordflow">return</span> ((<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+3] &gt;&gt; 14) &amp; 0x1) == 1;
<a name="l00183"></a>00183 }
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="class_o_r_greta_decoder.html#37b35587aa17d4e56ca86ebb034f586d">00185</a> <span class="keyword">inline</span> Bool_t <a class="code" href="class_o_r_greta_decoder.html#37b35587aa17d4e56ca86ebb034f586d">ORGretaDecoder::IsPileupFlag</a>()
<a name="l00186"></a>00186 {
<a name="l00187"></a>00187   <span class="keywordflow">return</span> ((<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+3]  &gt;&gt; 15) &amp; 0x1) == 1;
<a name="l00188"></a>00188 }
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="class_o_r_greta_decoder.html#0711e1dbe896c0d6dc56a1cc74783c77">00190</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#0711e1dbe896c0d6dc56a1cc74783c77">ORGretaDecoder::GetCFDTimeStampLo</a>()
<a name="l00191"></a>00191 {
<a name="l00192"></a>00192   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+3]  &gt;&gt; 16); 
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="class_o_r_greta_decoder.html#d6fdd56e3dd541ad81e727b522fb3368">00195</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#d6fdd56e3dd541ad81e727b522fb3368">ORGretaDecoder::GetCFDTimeStampMed</a>()
<a name="l00196"></a>00196 {
<a name="l00197"></a>00197   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+4] &amp; 0xffff); 
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="class_o_r_greta_decoder.html#bba6c802f7277bc06869245c3aa84775">00200</a> <span class="keyword">inline</span> UShort_t <a class="code" href="class_o_r_greta_decoder.html#bba6c802f7277bc06869245c3aa84775">ORGretaDecoder::GetCFDTimeStampHi</a>()
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202   <span class="keywordflow">return</span> (UShort_t) (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+4]  &gt;&gt; 16); 
<a name="l00203"></a>00203 }
<a name="l00204"></a>00204 
<a name="l00205"></a><a class="code" href="class_o_r_greta_decoder.html#203750f2cba48e90b8f68c3491c04e30">00205</a> <span class="keyword">inline</span> ULong64_t <a class="code" href="class_o_r_greta_decoder.html#203750f2cba48e90b8f68c3491c04e30">ORGretaDecoder::GetCFDTimeStamp</a>()
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207   <span class="keywordflow">return</span> <a class="code" href="class_o_r_greta_decoder.html#ea29250928965f7fb6ff1d38d4673976">BitConcat</a>(<a class="code" href="class_o_r_greta_decoder.html#0711e1dbe896c0d6dc56a1cc74783c77">GetCFDTimeStampLo</a>(), <a class="code" href="class_o_r_greta_decoder.html#d6fdd56e3dd541ad81e727b522fb3368">GetCFDTimeStampMed</a>(), <a class="code" href="class_o_r_greta_decoder.html#bba6c802f7277bc06869245c3aa84775">GetCFDTimeStampHi</a>());
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a><a class="code" href="class_o_r_greta_decoder.html#4c99475bb033b6fba56e99291cfa6a09">00210</a> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#4c99475bb033b6fba56e99291cfa6a09">ORGretaDecoder::GetCFDPointOne</a>()
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212   <span class="keywordflow">return</span> (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+5] &amp; 0xffff); 
<a name="l00213"></a>00213 }
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="class_o_r_greta_decoder.html#1ce7639dc422fd613890e7cc76757991">00215</a> <span class="keyword">inline</span> UInt_t <a class="code" href="class_o_r_greta_decoder.html#1ce7639dc422fd613890e7cc76757991">ORGretaDecoder::GetCFDPointTwo</a>()
<a name="l00216"></a>00216 {
<a name="l00217"></a>00217   <span class="keywordflow">return</span> (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a>[<a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>()+5] &gt;&gt; 16); 
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="class_o_r_greta_decoder.html#1ed87e842ecf854662a10a9ef3e355ca">00220</a> <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="class_o_r_greta_decoder.html#1ed87e842ecf854662a10a9ef3e355ca">ORGretaDecoder::GetWaveformLen</a>()
<a name="l00221"></a>00221 {
<a name="l00222"></a>00222   <span class="comment">// returns Waveform length in number of shorts</span>
<a name="l00223"></a>00223   <span class="keywordflow">return</span> (<a class="code" href="class_o_r_greta_decoder.html#e5d82f809b24f810cce91069009e2492">GetPacketLength</a>() - <a class="code" href="class_o_r_greta_decoder.html#b04f87d4a84127a3bd92af44f0b7eb93">GetBufHeadLen</a>())*2;
<a name="l00224"></a>00224 }
<a name="l00225"></a>00225 
<a name="l00226"></a><a class="code" href="class_o_r_greta_decoder.html#0df7f778350ac1870213d9941f9e0322">00226</a> <span class="keyword">inline</span> UInt_t* <a class="code" href="class_o_r_greta_decoder.html#0df7f778350ac1870213d9941f9e0322">ORGretaDecoder::GetWaveformDataPointer</a>()
<a name="l00227"></a>00227 {
<a name="l00228"></a>00228   <span class="keywordflow">return</span> (<a class="code" href="class_o_r_v_digitizer_decoder.html#1a52feddd81312f9e596108c17a74071">fDataRecord</a> + <a class="code" href="class_o_r_greta_decoder.html#c3eda66addca088388b126b6f9b67af8">GetRecordOffset</a>() + <a class="code" href="class_o_r_greta_decoder.html#b04f87d4a84127a3bd92af44f0b7eb93">GetBufHeadLen</a>());
<a name="l00229"></a>00229 }
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 <span class="preprocessor">#endif</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 13 08:51:18 2009 for OrcaROOT by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
